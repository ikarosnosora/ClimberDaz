import{j as e,w as c,u as x,r as o,l as h}from"./index-JcghwglV.js";import{r as g}from"./zh-cn-LA4RAP2U.js";c.extend(g);c.locale("zh-cn");const p=()=>e.jsx("span",{className:"text-gray-500",children:"[🔔]"}),j=({notification:s,onClick:a})=>{const i=()=>{a&&a(s)},t=()=>e.jsx(p,{});return e.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:r=>r.key==="Enter"&&i(),className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 flex items-start space-x-3 ${s.isRead?"bg-gray-50":"bg-white"}`,children:[e.jsx("div",{className:"flex-shrink-0 pt-1",children:t()}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("div",{className:`font-medium mb-1 ${s.isRead?"text-gray-700":"text-gray-900 font-semibold"}`,children:s.title}),e.jsx("div",{className:`text-sm mb-1 ${s.isRead?"text-gray-500":"text-gray-700"}`,children:s.message}),e.jsx("div",{className:"text-xs text-gray-400",children:c(s.timestamp).fromNow()})]})]},s.id)},u=({notifications:s,onNotificationClick:a,isLoading:i})=>i?e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2 px-4 py-2",children:"通知列表"}),[1,2,3].map(t=>e.jsx("div",{className:"p-4 border-b border-gray-200 text-gray-400",children:"加载中..."},t))]}):s.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-16 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📭"}),e.jsx("p",{children:"暂无通知"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:s.map(t=>e.jsx(j,{notification:t,onClick:a},t.id))}),v=[{id:"1",type:"activity_join",title:"报名成功: 周末欢乐抱石局",message:"您已成功报名 周末欢乐抱石局 活动。",timestamp:new Date(Date.now()-1e3*60*30),isRead:!1,linkTo:"/activity/1"},{id:"2",type:"new_comment",title:"新留言: 关于先锋练习",message:"Alice 在 '先锋练习' 活动中发表了新留言。",timestamp:new Date(Date.now()-1e3*60*60*2),isRead:!0,linkTo:"/activity/some-other-id/comments"},{id:"3",type:"system_announcement",title:"系统维护通知",message:"本周日凌晨2-4点将进行系统维护。",timestamp:new Date(Date.now()-1e3*60*60*24*3),isRead:!0}],f=()=>{const s=x(),[a,i]=o.useState(v),[t]=o.useState(!1),r=()=>{s(-1)},d=l=>{i(m=>m.map(n=>n.id===l.id?{...n,isRead:!0}:n)),l.linkTo?s(l.linkTo):h("此通知没有可跳转的链接")};return e.jsxs("div",{className:"notifications-page flex flex-col h-screen",children:[e.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"relative flex items-center justify-center h-12",children:[e.jsx("button",{onClick:r,className:"absolute left-0 p-2 text-blue-500 hover:text-blue-700","aria-label":"Go back",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"我的通知"})]})})}),e.jsx("div",{className:"flex-grow overflow-y-auto",children:e.jsx(u,{notifications:a,onNotificationClick:d,isLoading:t})})]})};export{f as default};
